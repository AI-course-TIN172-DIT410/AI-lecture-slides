<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <script src="https://code.jquery.com/jquery-2.2.1.min.js" crossorigin="anonymous"></script>

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <!-- Optional theme -->
  <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous"> -->

  <!-- Latest compiled and minified JavaScript -->
  <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script> -->

  <script type="text/javascript">
  $(document).ready(function(){
      $("table").addClass("table table-condensed");

      $(document).keypress(function(e) {
        switch (e.which) {
          case 32: // space
          case 110: // 'n'
            jump('h1', 1)
            break
          case 112: // 'p'
            jump('h1', -1)
            break
        }
      })
      var jump = function(selector, n) {
        const pad  = 15 // for scrolling to
        const pad2 = pad*2 // for determining current location
        var top = $(window).scrollTop()
        var elems = $(selector)
        // find index to jump to
        var i = -1
        elems.each(function(ix, elem) {
          var elemtop = $(elem).offset().top
          var diff = Math.round(elemtop - top)
          if (Math.abs(diff) <= pad2) { // equal
            i = ix+n
            return false
          } else if (diff > pad2) {
            if (n > 0) {
              i = ix+(n-1)
            } else {
              i = ix+n
            }
            return false
          }
        })
        // Do the scrolling
        if (i >= 0) {
          $('html, body').animate({
            scrollTop: elems.eq(i).offset().top - pad
          }, 200)
        }

      }
  })
  </script>

  <style type="text/css">
    /*body { margin-bottom:20em; }*/
    /*h1 { margin-top:10em; }*/
    /*pre { color:#c7254e; background-color:#f9f2f4; }*/
    .pl-c{color:#969896}
    .pl-c1,.pl-s .pl-v{color:#0086b3}
    .pl-e,.pl-en{color:#795da3}
    .pl-s .pl-s1,.pl-smi{color:#333}
    .pl-ent{color:#63a35c}
    .pl-k{color:#a71d5d}
    .pl-pds,.pl-s,.pl-s .pl-pse .pl-s1,.pl-sr,.pl-sr .pl-cce,.pl-sr .pl-sra,.pl-sr .pl-sre{color:#183691}
    .pl-v{color:#ed6a43}
    .pl-id{color:#b52a1d}
    .pl-ii{background-color:#b52a1d;color:#f8f8f8}
    .pl-sr .pl-cce{color:#63a35c;font-weight:bold}
    .pl-ml{color:#693a17}
    .pl-mh,.pl-mh .pl-en,.pl-ms{color:#1d3e81;font-weight:bold}
    .pl-mq{color:#008080}
    .pl-mi{color:#333;font-style:italic}
    .pl-mb{color:#333;font-weight:bold}
    .pl-md{background-color:#ffecec;color:#bd2c00}
    .pl-mi1{background-color:#eaffea;color:#55a532}
    .pl-mdr{color:#795da3;font-weight:bold}
    .pl-mo{color:#1d3e81}
  </style>
</head>

<body role="document">
<div class="container">
<h1>
<a id="user-content-natural-language-processing--interpretation" class="anchor" href="#natural-language-processing--interpretation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Natural Language Processing &amp; Interpretation</h1>

<p>TIN173/DIT410 Artificial Intelligence<br>
John J. Camilleri<br>
2016-04-26</p>

<h2>
<a id="user-content-student-participation-link" class="anchor" href="#student-participation-link" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Student participation link</h2>

<p><a href="https://b.socrative.com/student/">https://b.socrative.com/student/</a><br>
or go to <code>socrative.com</code> and click <strong>Student login</strong></p>

<p>Room number: <strong>OHAI</strong></p>



<p><a href="telescope-men.jpg" target="_blank"><img src="telescope-men.jpg" alt="" style="max-width:100%;"></a><br>
Source: <a href="http://www.denizyuret.com/2010/12/research-focus.html">http://www.denizyuret.com/2010/12/research-focus.html</a></p>

<h1>
<a id="user-content-what-is-natural-language" class="anchor" href="#what-is-natural-language" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>What is natural language?</h1>

<p><strong>Natural language</strong></p>

<ul>
<li>Any language that develops naturally in humans through use and repetition</li>
<li>e.g.: English, Swedish</li>
<li>Imprecisely defined: is <code>"I totally lol'ed"</code> correct?</li>
<li>Interpretation can be ambiguous</li>
</ul>

<p><strong>Formal language</strong></p>

<ul>
<li>Specifically constructed for some purpose</li>
<li>e.g.: JavaScript, propositional logic</li>
<li>Precisely defined

<ul>
<li>
<code>print(1 + 2)</code> ok <img class="emoji" title=":white_check_mark:" alt=":white_check_mark:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/2705.png" height="20" width="20" align="absmiddle">
</li>
<li>
<code>print(+ 1 2.</code> bad <img class="emoji" title=":x:" alt=":x:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/274c.png" height="20" width="20" align="absmiddle">
</li>
</ul>
</li>
<li>Unambiguous, precise semantics</li>
</ul>

<h3>
<a id="user-content-nlp" class="anchor" href="#nlp" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>NLP</h3>

<ul>
<li>Computational methods to natural language</li>
<li>Text / speech</li>
</ul>

<h1>
<a id="user-content-classification" class="anchor" href="#classification" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Classification</h1>

<p>e.g. sentiment analysis</p>

<p><a href="https://camo.githubusercontent.com/aee227c701091e56cfe6479ccc8f6a757c0d6c94/687474703a2f2f7777772e6373632e6e6373752e6564752f666163756c74792f6865616c65792f74776565745f76697a2f666967732f74776565742d76697a2d65782e706e67" target="_blank"><img src="https://camo.githubusercontent.com/aee227c701091e56cfe6479ccc8f6a757c0d6c94/687474703a2f2f7777772e6373632e6e6373752e6564752f666163756c74792f6865616c65792f74776565745f76697a2f666967732f74776565742d76697a2d65782e706e67" alt="" data-canonical-src="http://www.csc.ncsu.edu/faculty/healey/tweet_viz/figs/tweet-viz-ex.png" style="max-width:100%;"></a><br>
<a href="https://www.csc.ncsu.edu/faculty/healey/tweet_viz/">https://www.csc.ncsu.edu/faculty/healey/tweet_viz/</a></p>

<h1>
<a id="user-content-information-extraction" class="anchor" href="#information-extraction" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Information extraction</h1>

<p>e.g. Named entity recognition</p>

<p><a href="https://camo.githubusercontent.com/a1f513a067542feb734d56e3b8845aa273fefa6f/68747470733a2f2f72657365617263686b622e66696c65732e776f726470726573732e636f6d2f323031342f30322f6e65722e706e673f773d363430" target="_blank"><img src="https://camo.githubusercontent.com/a1f513a067542feb734d56e3b8845aa273fefa6f/68747470733a2f2f72657365617263686b622e66696c65732e776f726470726573732e636f6d2f323031342f30322f6e65722e706e673f773d363430" alt="" data-canonical-src="https://researchkb.files.wordpress.com/2014/02/ner.png?w=640" style="max-width:100%;"></a><br>
<a href="http://www.europeana-newspapers.eu/named-entity-recognition-for-digitised-newspapers/">http://www.europeana-newspapers.eu/named-entity-recognition-for-digitised-newspapers/</a></p>

<h1>
<a id="user-content-information-retrieval-search" class="anchor" href="#information-retrieval-search" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Information retrieval (search)</h1>

<ul>
<li>corpus of documents</li>
<li>query (in given language)</li>
<li>result set</li>
</ul>

<p><a href="safari.png" target="_blank"><img src="safari.png" alt="" style="max-width:100%;"></a></p>

<h1>
<a id="user-content-machine-translation" class="anchor" href="#machine-translation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Machine translation</h1>

<p>e.g. Google Translate</p>

<pre><code>Min mamma är svensk.
Min mamma är inte svensk.
</code></pre>

<p><a href="https://translate.google.se/?hl=en#sv/en/Min%20mamma%20%C3%A4r%20svensk">https://translate.google.se/?hl=en#sv/en/Min%20mamma%20%C3%A4r%20svensk</a></p>

<h1>
<a id="user-content-rules-vs-statistics" class="anchor" href="#rules-vs-statistics" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Rules vs Statistics</h1>

<ul>
<li>These days many NLP tasks are powered by machine learning</li>
<li>We have lots of data (corpora), fast processors, cheap storage</li>
<li>Up to the 1980s, most NLP systems were based on complex sets of hand-written rules</li>
<li>Linguistics itself is quite a formal discipline</li>
</ul>

<h1>
<a id="user-content-phrase-structure-grammars" class="anchor" href="#phrase-structure-grammars" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Phrase-Structure Grammars</h1>

<ul>
<li>Words have different lexical categories: noun, verb, adjective...</li>
<li>Combine into phrasal categories:<br>
<code>the</code> (determiner) + <code>house</code> (noun) = <code>the house</code> (noun phrase)</li>
<li>Grammar is a set of rules describes which combinations are possible</li>
<li>Goal: describe the set of sentences which are correct in a language<br>
and reject those which are invalid

<ul>
<li>
<code>the man saw a mountain</code> ok <img class="emoji" title=":white_check_mark:" alt=":white_check_mark:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/2705.png" height="20" width="20" align="absmiddle">
</li>
<li>
<code>the man saw a</code> bad <img class="emoji" title=":x:" alt=":x:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/274c.png" height="20" width="20" align="absmiddle">
</li>
</ul>
</li>
<li>Assign <em>parse trees</em> to valid sentences</li>
</ul>

<h1>
<a id="user-content-context-free-grammars" class="anchor" href="#context-free-grammars" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Context-free grammars</h1>

<p>A context-free grammar is a 4-tuple <strong>G = (V, Σ, R, S)</strong> where:</p>

<ul>
<li>V is a finite set of non-terminals (called "syntactic categories")</li>
<li>Σ is a finite set of terminals (disjoint from V)</li>
<li>R is the set of production rules, a finite relation from V to (V ⊔ Σ)* , e.g.:

<ul>
<li><code>X → Y</code></li>
<li><code>X → a</code></li>
<li><code>X → b Z</code></li>
</ul>
</li>
<li>S is the start symbol ∈ V</li>
</ul>

<p>The <em>language</em> <code>L</code> of a grammar <code>G</code> is the set of strings which have a valid derivation from <code>S</code>:</p>

<pre><code>L(G) = { w ∈ Σ* : S ⇒* w}
</code></pre>

<h2>
<a id="user-content-example-grammar" class="anchor" href="#example-grammar" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Example grammar</h2>

<p><strong>S</strong> = sentence,
<strong>NP</strong> = noun phrase,
<strong>VP</strong> = verb phrase,
<strong>Det</strong> = determiner,
<strong>N</strong> = noun,
<strong>V</strong> = verb</p>

<h4>
<a id="user-content-rules" class="anchor" href="#rules" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Rules</h4>

<pre><code>S  → NP VP
NP → Det N
VP → V NP
</code></pre>

<h4>
<a id="user-content-lexicon" class="anchor" href="#lexicon" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Lexicon</h4>

<pre><code>N   → man | mountain
V   → saw
Det → a | the
</code></pre>

<blockquote>
<p>"the man saw a mountain" <img class="emoji" title=":white_check_mark:" alt=":white_check_mark:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/2705.png" height="20" width="20" align="absmiddle">  </p>
</blockquote>

<p><a href="tree-1.png" target="_blank"><img src="tree-1.png" alt="the man saw a mountain" style="max-width:100%;"></a></p>

<blockquote>
<p>"the man saw a" <img class="emoji" title=":x:" alt=":x:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/274c.png" height="20" width="20" align="absmiddle">   </p>
</blockquote>

<p><a href="tree-NP-the_man.png" target="_blank"><img src="tree-NP-the_man.png" alt="the man" style="max-width:100%;"></a>
<a href="tree-V-saw.png" target="_blank"><img src="tree-V-saw.png" alt="saw" style="max-width:100%;"></a>
<a href="tree-Det-a.png" target="_blank"><img src="tree-Det-a.png" alt="a" style="max-width:100%;"></a><br>
<a href="tree-2.png" target="_blank"><img src="tree-2.png" alt="the man saw a ?" style="max-width:100%;"></a>
No complete tree starting wih <code>S</code>!</p>

<h2>
<a id="user-content-bigger-example" class="anchor" href="#bigger-example" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Bigger example</h2>

<p>We add <em>prepositions</em> <strong>Prep</strong> and <em>prepositional phrases</em> <strong>PP</strong>.</p>

<h4>
<a id="user-content-rules-1" class="anchor" href="#rules-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Rules</h4>

<pre><code>S  → NP VP
NP → Det N
NP → NP PP
VP → V NP
VP → VP PP
PP → Prep NP
</code></pre>

<h4>
<a id="user-content-lexicon-1" class="anchor" href="#lexicon-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Lexicon</h4>

<pre><code>NP   → Mary
N    → man | mountain | telescope
V    → saw
Det  → a | the
Prep → with | on
</code></pre>

<blockquote>
<p>"Mary saw the man on the mountain with a telescope"</p>
</blockquote>

<ul>
<li>The meaning of this sentence is <strong>ambiguous</strong>!</li>
<li>The problem is PP-attachment</li>
<li>The prepositional phrase can be attached to both NPs and VPs</li>
<li>The parse trees show us how the interpretations differ</li>
<li>All are equally valid syntactically</li>
</ul>

<p><strong>"saw ... with a telescope"</strong><br>
<a href="telescope-1.png" target="_blank"><img src="telescope-1.png" alt="" style="max-width:100%;"></a>
<a href="telescope-2.png" target="_blank"><img src="telescope-2.png" alt="" style="max-width:100%;"></a></p>

<p><strong>"... on the mountain with a telescope"</strong><br>
<a href="telescope-3.png" target="_blank"><img src="telescope-3.png" alt="" style="max-width:100%;"></a>
<a href="telescope-4.png" target="_blank"><img src="telescope-4.png" alt="" style="max-width:100%;"></a></p>

<p><strong>"the man ... with a telescope"</strong><br>
<a href="telescope-5.png" target="_blank"><img src="telescope-5.png" alt="" style="max-width:100%;"></a>
<a href="telescope-men.jpg" target="_blank"><img src="telescope-men.jpg" alt="" style="max-width:100%;"></a></p>

<h1>
<a id="user-content-syntactic-analysis-parsing" class="anchor" href="#syntactic-analysis-parsing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Syntactic analysis (parsing)</h1>

<ul>
<li>Given a grammar, find a derivation from <code>S</code> for an input string</li>
<li>Function from string to a list of parse trees<br>
<code>parse(g : Grammar, s : String) : ParseTree[]</code>

<ul>
<li>0 trees: input is <strong>invalid</strong>
</li>
<li>1 tree: input is <strong>valid</strong> and <strong>unambiguous</strong>
</li>
<li>2+ trees: input is <strong>valid</strong> and <strong>ambiguous</strong>
</li>
</ul>
</li>
</ul>

<h2>
<a id="user-content-algorithms" class="anchor" href="#algorithms" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Algorithms</h2>

<ul>
<li>Parsing is a search problem</li>
<li>Top-down

<ul>
<li>Start from <code>S</code> and apply rules until you match input</li>
<li>Wastes time building subtrees that will never match input</li>
</ul>
</li>
<li>Bottom-up

<ul>
<li>Apply rules backwards based on input</li>
<li>Wastes time building subtrees which will never join at <code>S</code>
</li>
</ul>
</li>
<li>Chart parsing

<ul>
<li>Use dynamic programming to store derivations for sub-strings</li>
<li>Improve efficiency of algorithm by avoiding <em>backtracking</em>
</li>
</ul>
</li>
</ul>

<h2>
<a id="user-content-cyk-algorithm" class="anchor" href="#cyk-algorithm" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CYK algorithm</h2>

<ul>
<li>Bottom-up chart parser</li>
<li>Example of a parsing "chart":</li>
</ul>

<table>
<thead>
<tr>
<th>Lydia</th>
<th>walks</th>
<th>in</th>
<th>a</th>
<th>garden</th>
<th>with</th>
<th>a</th>
<th>tree</th>
</tr>
</thead>
<tbody>
<tr>
<td>[0,1] <code>NP</code>
</td>
<td>[0,2]</td>
<td>[0,3]</td>
<td>[0,4]</td>
<td>[0,5] <code>S</code>
</td>
<td>[0,6]</td>
<td>[0,7]</td>
<td>[0,8] <code>S</code>,<code>S</code>
</td>
</tr>
<tr>
<td></td>
<td>[1,2] <code>V</code>
</td>
<td>[1,3]</td>
<td>[1,4]</td>
<td>[1,5] <code>VP</code>
</td>
<td>[1,6]</td>
<td>[1,7]</td>
<td>[1,8] <code>VP</code>,<code>VP</code>
</td>
</tr>
<tr>
<td></td>
<td></td>
<td>[2,3] <code>P</code>
</td>
<td>[2,4]</td>
<td>[2,5] <code>PP</code>
</td>
<td>[2,6]</td>
<td>[2,7]</td>
<td>[2,8] <code>PP</code>
</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>[3,4] <code>Det</code>
</td>
<td>[3,5] <code>NP</code>
</td>
<td>[3,6]</td>
<td>[3,7]</td>
<td>[3,8] <code>NP</code>
</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td>[4,5] <code>N</code>
</td>
<td>[4,6]</td>
<td>[4,7]</td>
<td>[4,8]</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>[5,6] <code>P</code>
</td>
<td>[5,7]</td>
<td>[5,8] <code>PP</code>
</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>[6,7] <code>Det</code>
</td>
<td>[6,8] <code>NP</code>
</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>[7,8] <code>N</code>
</td>
</tr>
</tbody>
</table>

<ul>
<li>Space: <strong>O(n²m)</strong>, Time: <strong>O(n³m)</strong><br>
n = number of input symbols<br>
m = number non-terminals in grammar (constant for grammar)</li>
<li>Number of parse trees is actually exponential! O(2ⁿ)</li>
<li>Another well-known parsing algorithm: <strong>Earley parser</strong>
</li>
</ul>

<h1>
<a id="user-content-probabilitistic-parsing" class="anchor" href="#probabilitistic-parsing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Probabilitistic parsing</h1>

<ul>
<li>How to choose amongst multiple ambiguous parses?</li>
<li>Assign probability values to rules and rank parses by combined probability</li>
<li>Probabilites can be learned from an annotated corpus (treebank)</li>
</ul>

<h2>
<a id="user-content-pcfg-example" class="anchor" href="#pcfg-example" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>PCFG example</h2>

<h4>
<a id="user-content-rules-2" class="anchor" href="#rules-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Rules</h4>

<pre><code>S  → NP VP    [1.0]
NP → Det N    [0.5]
NP → NP PP    [0.4]
VP → V NP     [0.8]
VP → VP PP    [0.2]
PP → Prep NP  [1.0]
</code></pre>

<h4>
<a id="user-content-lexicon-2" class="anchor" href="#lexicon-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Lexicon</h4>

<pre><code>NP   → Mary [0.1]
N    → man  [0.6] | mountain [0.2] | telescope [0.2]
V    → saw  [1.0]
Det  → a    [0.4] | the [0.6]
Prep → with [0.5] | on  [0.5]
</code></pre>

<h4>
<a id="user-content-parse-tree-probability" class="anchor" href="#parse-tree-probability" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Parse tree probability</h4>

<p><a href="telescope-1.png" target="_blank"><img src="telescope-1.png" alt="" style="max-width:100%;"></a><br>
1.0 × 0.1 × 0.2 × 0.8 × 1.0 × 0.4 × 0.5 × 0.6 × 0.6 × 1.0 × 0.5 × 0.5 × 0.6 × 0.2 × 1.0 × 0.5 × 0.5 × 0.4 × 0.2 = <strong>0.0000006912</strong> = <strong>6.912 e-7</strong></p>

<p><a href="telescope-3.png" target="_blank"><img src="telescope-3.png" alt="" style="max-width:100%;"></a><br>
1.0 × 0.1 × 0.8 × 1.0 × 0.4 × 0.5 × 0.6 × 0.6 × 1.0 × 0.5 × 0.4 × 0.5 × 0.6 × 0.2 × 1.0 × 0.5 × 0.5 × 0.4 × 0.2 = <strong>0.0000013824</strong> = <strong>1.3824 e-6</strong></p>

<ul>
<li>Thus the second tree is more likely and should be ranked first.</li>
<li>These values must be <em>smoothed</em> so that an out-of-corpus phrase does not have 0 probability.</li>
</ul>

<h1>
<a id="user-content-overgeneration" class="anchor" href="#overgeneration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Overgeneration</h1>

<blockquote>
<p>"All grammars leak"  </p>
</blockquote>

<p>Edward Sapir, <em>Language: An Introduction to the Study of Speech</em> (1921)<br>
<a href="http://www.bartleby.com/186/2.html">http://www.bartleby.com/186/2.html</a></p>

<h4>
<a id="user-content-lexicon-3" class="anchor" href="#lexicon-3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Lexicon</h4>

<p>Let's add the pronoun <code>I</code> and present tense verb <code>see</code>:</p>

<pre><code>NP   → Mary | I
V    → saw  | see
</code></pre>

<blockquote>
<p><code>I see Mary</code> <img class="emoji" title=":white_check_mark:" alt=":white_check_mark:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/2705.png" height="20" width="20" align="absmiddle"></p>
</blockquote>

<p><a href="i-see-mary.png" target="_blank"><img src="i-see-mary.png" alt="" style="max-width:100%;"></a></p>

<blockquote>
<p><code>Mary saw I</code> <img class="emoji" title=":x:" alt=":x:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/274c.png" height="20" width="20" align="absmiddle"></p>
</blockquote>

<p><a href="mary-saw-i.png" target="_blank"><img src="mary-saw-i.png" alt="" style="max-width:100%;"></a>  </p>

<ul>
<li>Pronoun case agreement</li>
<li>
<code>I</code> in the subject position (<em>nominative</em>) but <code>me</code> in the object position (<em>accusative</em>)</li>
</ul>

<blockquote>
<p><code>Mary see a telescope</code> <img class="emoji" title=":x:" alt=":x:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/274c.png" height="20" width="20" align="absmiddle"></p>
</blockquote>

<p><a href="mary-see-a-telescope.png" target="_blank"><img src="mary-see-a-telescope.png" alt="" style="max-width:100%;"></a>  </p>

<ul>
<li>Subject-verb agreement</li>
<li>
<code>I see</code> (first person) but <code>Mary sees</code> (third person)</li>
<li>These problems are <strong>much worse</strong> in other languages!<br>
English grammar is relatively simple.</li>
</ul>

<h1>
<a id="user-content-solution-1-adding-more-rules" class="anchor" href="#solution-1-adding-more-rules" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Solution 1: adding more rules</h1>

<h3>
<a id="user-content-11-handling-pronoun-case" class="anchor" href="#11-handling-pronoun-case" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1.1: Handling pronoun case</h3>

<p>Separate rules for noun-phrases in <em>subject</em> position (<code>NP_S</code>)
and noun phrases in <em>object</em> position (<code>NP_O</code>).</p>

<h4>
<a id="user-content-rules-3" class="anchor" href="#rules-3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Rules</h4>

<pre><code>S    → NP_S VP
NP_S → Det N
NP_S → NP_S PP
NP_O → Det N
NP_O → NP_O PP
VP   → V NP_O
VP   → VP PP
PP   → Prep NP_S
PP   → Prep NP_O
</code></pre>

<h4>
<a id="user-content-lexicon-4" class="anchor" href="#lexicon-4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Lexicon</h4>

<pre><code>NP_S → Mary | I
NP_O → Mary | me
N    → man  | mountain | telescope
V    → saw  | see
Det  → a    | the
Prep → with | on
</code></pre>

<h3>
<a id="user-content-12-handling-verb-subject-agreement" class="anchor" href="#12-handling-verb-subject-agreement" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1.2: Handling verb-subject agreement</h3>

<p>Separate rules for noun-phrases in the <em>first-person</em> (<code>NP_?_P1</code>)
and noun phrases the <em>third-person</em> (<code>NP_?_P3</code>).</p>

<h4>
<a id="user-content-rules-4" class="anchor" href="#rules-4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Rules</h4>

<pre><code>S       → NP_S_P1 VP_P1
S       → NP_S_P3 VP_P3
NP_S_P1 → Det N
NP_S_P1 → NP_S_P1 PP
NP_O_P1 → Det N
NP_O_P1 → NP_O_P1 PP
NP_S_P3 → Det N
NP_S_P3 → NP_S_P3 PP
NP_O_P3 → Det N
NP_O_P3 → NP_O_P3 PP
VP_P1   → V_P1 NP_O_P1
VP_P1   → V_P1 NP_O_P3
VP_P1   → VP_P1 PP
VP_P3   → V_P3 NP_O_P1
VP_P3   → V_P3 NP_O_P3
VP_P3   → VP_P3 PP
PP      → Prep NP_S_P1
PP      → Prep NP_O_P1
PP      → Prep NP_S_P3
PP      → Prep NP_O_P3
</code></pre>

<h4>
<a id="user-content-lexicon-5" class="anchor" href="#lexicon-5" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Lexicon</h4>

<pre><code>NP_S_P1 → I
NP_O_P1 → me
NP_S_P3 → Mary
NP_O_P3 → Mary
N       → man  | mountain | telescope
V_P1    → saw  | see
V_P3    → saw  | sees
Det     → a    | the
Prep    → with | on
</code></pre>

<ul>
<li>This becomes messy!</li>
<li>A program can generate these rules for us.</li>
<li>But remember the parsing complexity depends on the size of the grammar! <strong>O(n³m)</strong>
</li>
<li>Explosion of number of rules is still bad, even if complexity is polynomial.</li>
</ul>

<h1>
<a id="user-content-solution-2-augmenting-the-grammar" class="anchor" href="#solution-2-augmenting-the-grammar" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Solution 2: augmenting the grammar</h1>

<ul>
<li>Definite clause grammar (DCG)</li>
<li>Add parameters to the rules</li>
<li>Use constraints to limit the over-generation</li>
<li>Takes us beyond the expressove power of CFG</li>
</ul>

<h4>
<a id="user-content-rules-5" class="anchor" href="#rules-5" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Rules</h4>

<pre><code>S        → NP(n,c) VP(n) {c = Sbj}
NP(P3,_) → Det N
NP(n,c)  → NP(n,c) PP
VP(n)    → V(n) NP(_,c) {c = Obj}
VP(n)    → VP(n) PP
PP       → Prep NP(_,_)
</code></pre>

<h4>
<a id="user-content-lexicon-6" class="anchor" href="#lexicon-6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Lexicon</h4>

<pre><code>NP(P3,_)   → Mary
NP(P1,Sbj) → I
NP(P1,Obj) → me
N     → man | mountain | telescope
V(P1) → saw | see
V(P3) → saw | sees
Det   → a | the
Prep  → with | on
</code></pre>

<h1>
<a id="user-content-generative-capacity-chomsky-hierarchy" class="anchor" href="#generative-capacity-chomsky-hierarchy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Generative capacity (Chomsky hierarchy)</h1>

<ul>
<li>Context-free grammars are popular because parsing them is quite efficient</li>
<li>All programming languages' syntax are basically CF</li>
<li>But CFGs have been proven not to be sufficient for describing all of natural language.</li>
</ul>

<table>
<thead>
<tr>
<th>Grammar</th>
<th>Languages</th>
<th>Automaton</th>
<th>Production rules (constraints)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Type-0</td>
<td>Recursively enumerable</td>
<td>Turing machine</td>
<td>α → β (no restrictions)</td>
</tr>
<tr>
<td>Type-1</td>
<td>Context-sensitive</td>
<td>Linear-bounded non-deterministic Turing machine</td>
<td>α A β → α γ β</td>
</tr>
<tr>
<td>Type-2</td>
<td>Context-free</td>
<td>Non-deterministic pushdown automaton</td>
<td>A → γ</td>
</tr>
<tr>
<td>Type-3</td>
<td>Regular</td>
<td>Finite state automaton</td>
<td>A → a and A → aB</td>
</tr>
</tbody>
</table>

<p><em>where</em></p>

<ul>
<li>
<strong>A, B</strong> are non-terminals</li>
<li>
<strong>α, β, γ</strong> are strings of terminals/non-terminals</li>
</ul>

<h1>
<a id="user-content-dependency-parsing" class="anchor" href="#dependency-parsing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Dependency parsing</h1>

<ul>
<li>Not about phrase structure (constituency)</li>
<li>About the relations between tokens in a sentence - <strong>dependencies</strong>
</li>
</ul>

<p><a href="dependency-1.png" target="_blank"><img src="dependency-1.png" alt="" style="max-width:100%;"></a></p>

<p><a href="http://nlp.stanford.edu:8080/corenlp/process">http://nlp.stanford.edu:8080/corenlp/process</a></p>

<p><em>where</em></p>

<ul>
<li>
<strong>nsubj</strong>: nominal subject</li>
<li>
<strong>dobj</strong>: direct object</li>
<li>
<strong>det</strong>: determiner</li>
<li>
<strong>nmod</strong>: nominal modifier</li>
<li>
<strong>case</strong>: case marking</li>
</ul>

<h1>
<a id="user-content-syntax-and-semantics" class="anchor" href="#syntax-and-semantics" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Syntax and semantics</h1>

<p>Socrative poll:
<a href="https://b.socrative.com/student/">https://b.socrative.com/student/</a><br>
or go to <code>socrative.com</code> and click <strong>Student login</strong></p>

<p>Room number: <strong>OHAI</strong></p>



<p><a href="colourless-green-ideas.jpg" target="_blank"><img src="colourless-green-ideas.jpg" alt="Colourless green ideas sleep furiously" style="max-width:100%;"></a><br>
<a href="http://wmjasco.blogspot.se/2008/11/colorless-green-ideas-do-not-sleep.html">http://wmjasco.blogspot.se/2008/11/colorless-green-ideas-do-not-sleep.html</a></p>

<h1>
<a id="user-content-different-levels-of-representation" class="anchor" href="#different-levels-of-representation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Different levels of representation</h1>

<blockquote>
<p>Colourless green ideas sleep furiously</p>
</blockquote>

<ul>
<li>Made famous by Noam Chomsky in <em>Syntactic Structures</em> (1957).</li>
<li>This sentence is <strong>syntactically</strong> correct.</li>
<li>It would be parseable using a PSG as seen previously.<br>
<a href="colourless-green-ideas.png" target="_blank"><img src="colourless-green-ideas.png" alt="`(S (NP (A Colourless) (NP (A green) (NP (N ideas)))) (VP (V sleep) (Adv furiously)))`" style="max-width:100%;"></a>
</li>
<li>It is unclear if it <strong>means</strong> aynthing - <strong>semantically</strong> invalid

<ul>
<li>
<em>colourless</em> and <em>green</em> are contradictory</li>
<li>
<em>ideas</em> don't <em>sleep</em>
</li>
<li>how can one <em>sleep furiously</em>?</li>
</ul>
</li>
</ul>

<h1>
<a id="user-content-semantic-interpretation" class="anchor" href="#semantic-interpretation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Semantic interpretation</h1>

<ul>
<li>We are interested in the <strong>meaning</strong> of a phrase, more than it's <strong>structure</strong>.</li>
<li>Semantic representation is more abstract</li>
<li>You understand "move the ball to the left" without needing to understand linguistics</li>
</ul>

<p>Goal: <strong>Syntactic representation (parse tree) → Semantic representation (predicate)</strong></p>

<h1>
<a id="user-content-math-example" class="anchor" href="#math-example" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Math example</h1>

<h2>
<a id="user-content-simple-grammar" class="anchor" href="#simple-grammar" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Simple grammar</h2>

<p>Consider a grammar for mathematical expressions</p>

<pre><code>Exp → Exp Oper Exp
Exp → '(' Exp ')'
Exp → Number

Number → Digit
Number → Number | Digit
Digit  → '0' | '1' | ... | '9'
Oper   → '+' | '−' | '×' | '÷'
</code></pre>

<p>And a parse tree in that grammar for the expression <code>3 + (4 ÷ 2)</code>:<br>
<a href="exp-pt.png" target="_blank"><img src="exp-pt.png" alt="Parse tree for expression: 3 + (4 ÷ 2)" style="max-width:100%;"></a></p>

<ul>
<li>The structure is nice, but we really want the <em>meaning</em> of the expression</li>
<li>We want to evaluate the expression</li>
<li>Include semantic info in grammar and tree</li>
</ul>

<h2>
<a id="user-content-augmented-grammar" class="anchor" href="#augmented-grammar" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Augmented grammar</h2>

<p>Note the addition of the predicate <em>Apply</em>, which is defined outside of the grammar.</p>

<pre><code>Exp(x) → Exp(x₁) Oper(op) Exp(x₂) { x = Apply(op, x₁, x₂)}
Exp(x) → '(' Exp(x) ')'
Exp(x) → Number(x)

Number(x) → Digit(x)
Number(x) → Number(x₁) | Digit(x₂) { x = (10 × x₁) + x₂}
Digit(x)  → x { 0 ≤ x ≤ 9 }
Oper(x)   → x {x ∈ {+, −, ×, ÷}}
</code></pre>

<p>Augmented parse tree in that grammar:<br>
<a href="exp-aug-pt.png" target="_blank"><img src="exp-aug-pt.png" alt="Augmented parse tree for expression: 3 + (4 ÷ 2)" style="max-width:100%;"></a></p>

<p>So a semantic parse would give us: <code>5</code></p>

<h1>
<a id="user-content-natural-language-example" class="anchor" href="#natural-language-example" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Natural language example</h1>

<blockquote>
<p>Mary saw the man</p>
</blockquote>

<ul>
<li>Syntactic representation:<br>
<code>(S (NP Mary) (VP (V saw) (NP (Det the) (N man))))</code><br>
<a href="mary-saw-the-man.png" target="_blank"><img src="mary-saw-the-man.png" alt="" style="max-width:100%;"></a>
</li>
<li>Semantic representation: <code>Saw(Mary, Man)</code><br>
<code>Saw</code>, <code>Mary</code> and <code>Man</code> are not tokens but <strong>logical terms</strong>.</li>
</ul>

<h2>
<a id="user-content-compositional-semantics" class="anchor" href="#compositional-semantics" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Compositional semantics</h2>

<ul>
<li>We want semantics to be <strong>compositional</strong>: the meaning of a phrase is derived from the meaning of its sub-parts.</li>
<li>Semantic interpretations:

<ul>
<li>
<em>Mary</em> = <code>Mary</code>
</li>
<li>
<em>the man</em> = <code>Man</code>
</li>
</ul>
</li>
<li>What about <em>saw the man</em>?<br>
</li>
<li>It's a predicate which takes an argument.</li>
<li>Think of it as a lambda abstraction:</li>
</ul>

<pre><code>λx · Saw(x, Man)
</code></pre>

<h2>
<a id="user-content-grammar" class="anchor" href="#grammar" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Grammar</h2>

<pre><code>S(pred(obj))  → NP(obj) VP(pred)
VP(pred(obj)) → V(pred) NP(obj)
NP(obj) → Name(obj)
NP(obj) → Det(The) N(obj)

Name(Mary) → Mary
N(Man)     → man
Det(The)   → the
V(λy λx · Saw(x, y)) → saw
</code></pre>

<blockquote>
<p>Mary saw the man</p>
</blockquote>

<p><a href="mary-aug-pt.png" target="_blank"><img src="mary-aug-pt.png" alt='Augmented parse tree for "Mary saw the man"' style="max-width:100%;"></a></p>

<p>So a semantic parse would give us: <code>Saw(Mary, Man)</code></p>

<h2>
<a id="user-content-quantifiers" class="anchor" href="#quantifiers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Quantifiers</h2>

<p>Actually I cheated!
<em>"Mary sees the man"</em>
really means something like <em>"There is a man and Mary sees him"</em>.</p>

<p>We have <strong>quantification</strong></p>

<ul>
<li>So <em>"the man"</em> is really something like <code>∃x · Man(x)</code> or <code>∃x ∈ Men</code>
</li>
<li>then <em>"Mary sees the man"</em> is maybe <code>∃x · Man(x) ∧ Saw(Mary, x)</code>
</li>
</ul>

<p>Of course modelling "real" English will require many more modifications.</p>

<ul>
<li>Time and tense: <em>Mary saw the man</em> vs. <em>Mary sees the man</em>
</li>
<li>Long-distance dependencies: <em>Mary saw the man she had a relationship with</em>
</li>
<li>Ambiguity: <em>Police help dog bite victim</em>
</li>
</ul>

<h1>
<a id="user-content-more-on-ambiguity" class="anchor" href="#more-on-ambiguity" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>More on ambiguity</h1>

<p>Socrative poll:
<a href="https://b.socrative.com/student/">https://b.socrative.com/student/</a><br>
or go to <code>socrative.com</code> and click <strong>Student login</strong></p>

<p>Room number: <strong>OHAI</strong></p>

<p><a href="https://camo.githubusercontent.com/b7cf51b7fc4cb01f7da98647844da5482bc26b01/68747470733a2f2f75706c6f61642e77696b696d656469612e6f72672f77696b6970656469612f636f6d6d6f6e732f642f64642f4269736f6e5f66696768745f696e5f4772616e645f5465746f6e5f4e502e6a7067" target="_blank"><img src="https://camo.githubusercontent.com/b7cf51b7fc4cb01f7da98647844da5482bc26b01/68747470733a2f2f75706c6f61642e77696b696d656469612e6f72672f77696b6970656469612f636f6d6d6f6e732f642f64642f4269736f6e5f66696768745f696e5f4772616e645f5465746f6e5f4e502e6a7067" alt="" data-canonical-src="https://upload.wikimedia.org/wikipedia/commons/d/dd/Bison_fight_in_Grand_Teton_NP.jpg" style="max-width:100%;"></a></p>

<h1>
<a id="user-content-more-on-ambiguity-1" class="anchor" href="#more-on-ambiguity-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>More on ambiguity</h1>

<p>Most of the sentences we hear seem unambiguous.<br>
But almost every utterance contains some kinds of ambiguity.<br>
We are just very good at <strong>disambiguating</strong>!</p>

<p><strong>Levels of ambiguity</strong></p>

<ul>
<li>Lexical

<ul>
<li>A word can belong to multiple categories</li>
<li><em>Buffalo buffalo buffalo buffalo</em></li>
<li>
<strong>noun</strong> (animal, American bison)</li>
<li>
<strong>verb</strong> (to confuse)</li>
<li>
<strong>adjective</strong> (coming from Buffalo, NY)</li>
<li><em>"Bison [from] Buffalo [often] confuse [other] bison"</em></li>
</ul>
</li>
<li>Syntactic

<ul>
<li>Phrases can attach at different points in the tree</li>
<li><em>I ordered a pizza with rucola</em></li>
<li><em>I ordered a pizza with my phone</em></li>
</ul>
</li>
<li>Semantic

<ul>
<li>Multiple interprations</li>
<li>Common result of syntactic ambiguity</li>
<li>
<em>Everybody loves somebody</em><br>
<code>∀x ∃y · Loves(x,y)</code> or <code>∃y ∀x · Loves(x,y)</code> ?</li>
</ul>
</li>
</ul>

<h1>
<a id="user-content-disambiguation" class="anchor" href="#disambiguation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Disambiguation</h1>

<p>Probabilites as in PCFG only help us choose most likely phrase
(most common in a corpus).
But that is not taking <strong>context</strong> into account!</p>

<p>We need models to disambiguate.</p>

<h4>
<a id="user-content-world-model" class="anchor" href="#world-model" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>World model</h4>

<ul>
<li>The likelihood that a proposition holds in the world</li>
<li>Contains knowledge about the world:

<ul>
<li><em>rucola is a pizza topping</em></li>
<li><em>a phone can be used to order something</em></li>
</ul>
</li>
</ul>

<h4>
<a id="user-content-mental-model" class="anchor" href="#mental-model" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Mental model</h4>

<ul>
<li>What the speaker believes</li>
<li>What the speaker believes the hearer believes, etc.</li>
</ul>

<p>Politician saying: <em>I am not a crook</em></p>

<ul>
<li>crook as in a liar</li>
<li>crook as in a hooked staff of a shepherd</li>
</ul>

<h4>
<a id="user-content-language-model" class="anchor" href="#language-model" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Language model</h4>

<ul>
<li>The likelihood that a certain string of words appear together

<ul>
<li>
<em>pizza with rucola</em> (quite likely)</li>
<li>
<em>pizza with friends</em> (somewhat likely)</li>
<li>
<em>pizza with monkeys</em> (quite unlikely)</li>
</ul>
</li>
</ul>

<h4>
<a id="user-content-acoustic-model" class="anchor" href="#acoustic-model" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Acoustic model</h4>

<ul>
<li>When dealing with speech.</li>
<li>The likelihood that a particular sequence of sounds occurs,
given a string of words.</li>
</ul>

<h1>
<a id="user-content-nlp-in-the-shrdlite" class="anchor" href="#nlp-in-the-shrdlite" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>NLP in Shrdlite</h1>

<h2>
<a id="user-content-grammar-1" class="anchor" href="#grammar-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Grammar</h2>

<p>Deeper description of how the Shrdlite grammar works:
<a href="http://chalmersgu-ai-course.github.io/shrdlite-grammar.html">http://chalmersgu-ai-course.github.io/shrdlite-grammar.html</a></p>

<ul>
<li>Grammar file: <code>grammar.ne</code>
</li>
<li>Compiled with the <code>nearley.js</code> library to grammar.js</li>
<li>You can modify and rebuild with:
<code>npm install nearley --global</code>
<code>make grammar.js</code>
</li>
</ul>

<h2>
<a id="user-content-parsing" class="anchor" href="#parsing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Parsing</h2>

<div class="highlight highlight-source-ts"><pre><span class="pl-k">module</span> Parser {
  <span class="pl-k">function</span> <span class="pl-en">parse</span>(<span class="pl-v">input</span>: <span class="pl-k">string</span>): ParseResult[];

  <span class="pl-k">interface</span> <span class="pl-en">ParseResult</span> {
    <span class="pl-v">input</span> : <span class="pl-k">string</span>; <span class="pl-c">// The input string given by the user</span>
    <span class="pl-v">parse</span> : Command; <span class="pl-c">// The `Command` structure that the parser built from `input`</span>
  }
}</pre></div>

<p>Don't need to change (except for modifications)</p>

<h2>
<a id="user-content-interpretation" class="anchor" href="#interpretation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Interpretation</h2>

<div class="highlight highlight-source-ts"><pre><span class="pl-k">module</span> Interpreter {
  <span class="pl-k">function</span> <span class="pl-en">interpretCommand</span>(<span class="pl-v">cmd</span>: Command, <span class="pl-v">state</span>: WorldState): DNFFormula;

  <span class="pl-k">type</span> <span class="pl-k">DNFFormula</span> <span class="pl-k">= </span>Conjunction[];
  <span class="pl-k">type</span> <span class="pl-k">Conjunction</span> <span class="pl-k">= </span>Literal[];

  <span class="pl-k">interface</span> <span class="pl-en">Literal</span> {
    <span class="pl-v">polarity</span> : <span class="pl-k">boolean</span>;
    <span class="pl-v">relation</span> : <span class="pl-k">string</span>;
    <span class="pl-v">args</span> : <span class="pl-k">string</span>[];
  }
}</pre></div>

<h4>
<a id="user-content-examples" class="anchor" href="#examples" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Examples</h4>

<table>
<thead>
<tr>
<th>Literal</th>
<th>JS object</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>ontop(a,b)</em></td>
<td><code>{polarity:true, relation:"ontop", args:["a","b"]}</code></td>
</tr>
<tr>
<td><em>holding(q)</em></td>
<td><code>{polarity:true, relation:"holding", args:["q"]}</code></td>
</tr>
<tr>
<td><em>¬leftof(c,d)</em></td>
<td><code>{polarity:false, relation:"leftof", args:["c","d"]}</code></td>
</tr>
<tr>
<td><em>p</em></td>
<td><code>{polarity:true, relation:"p", args:[]}</code></td>
</tr>
</tbody>
</table>

<h2>
<a id="user-content-how-do-you-do-this" class="anchor" href="#how-do-you-do-this" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How do you do this?</h2>

<ul>
<li>This is for you to solve</li>
<li>It will involving the traversing the parse tree building a semantic interpretation</li>
<li>Take state of world into account</li>
</ul>

<h1>
<a id="user-content-final-question" class="anchor" href="#final-question" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Final question!</h1>

<p>Socrative poll:
<a href="https://b.socrative.com/student/">https://b.socrative.com/student/</a><br>
or go to <code>socrative.com</code> and click <strong>Student login</strong></p>

<p>Room number: <strong>OHAI</strong></p>

<p><strong>Thanks!</strong> <img class="emoji" title=":heart_eyes:" alt=":heart_eyes:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f60d.png" height="20" width="20" align="absmiddle"></p>
</div> <!-- container -->
</body>
</html>
